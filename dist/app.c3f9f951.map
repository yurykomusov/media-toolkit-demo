{"version":3,"sources":["js/custom-elements/router.js","js/custom-elements/spinner.js","js/views/indexView.js","js/views/excercisesView.js","js/utils.js","js/ItemsDataProvider.js","js/controllers/indexController.js","js/controllers/excercisesController.js","js/app.js"],"names":["Router","routes","default","event","Event","window","onpopstate","innerHTML","findRoute","location","pathname","dispatchEvent","path","queryParamStartsAt","indexOf","slice","view","$element","addEventListener","e","preventDefault","pathName","currentTarget","goTo","history","pushState","origin","HTMLElement","customElements","define","Spinner","index","model","renderExercise","item","url","discipline","title","renderSectionItem","sectionItem","columnsPerItem","name","popular","map","join","recent","ageGroups","disciplines","competentions","exercisesView","renderFilter","filter","id","items","li","text","renderSearchResults","searchResults","filerToggleId","filterBoxId","filters","disciplineFilter","ageGroupFilter","themeFilter","groupByFilter","document","createElement","groupBy","arr","groupFunc","reduce","previous","current","array","k","push","chunk","chunkSize","all","chunkIndex","Math","floor","ItemsDataProvider","jsonData","_defaultGrouping","_data","_filterConfig","filterValue","discipline_id","toUpperCase","ageRange","themes","_filtersToApply","_groupingToApply","data","_expandBy","filterName","filterFunc","Error","groupingFunc","_","sorted","sort","item1","item2","date","localeCompare","needExpand","expandedByThemeFunc","prev","next","t","grouped","aggregatedFilter","accumulator","singleFilter","Object","entries","key","length","getIndexModel","json","itemsDataProvider","getRecent","recentItemsGrouped","applyGroupingAndSort","executeQuery","recentItems","keys","getPopular","popularItemsGrouped","popularItems","getSearchResults","getFilters","actions","onToggleFilters","target","classList","toggle","onFilterClick","console","log","getExcercisesModel","App","$container","$root","$router","querySelector","fetch","then","response","setTimeout","indexModel","excercisesModel","mapRoute","refreshNavigation","Array","from","querySelectorAll","forEach","$el","addNavigation","appendChild","app","render"],"mappings":"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","file":"app.c3f9f951.map","sourceRoot":"..","sourcesContent":["export default class Router extends HTMLElement {\r\n    constructor() {\r\n        super();\r\n\r\n        this.routes = {            \r\n            default: `<div>No view was found. Try again later</div>`\r\n        }\r\n\r\n        this.event = new Event(\"navigationOccured\", {\"bubbles\": false, \"cancelable\": false});\r\n\r\n        window.onpopstate = () => {\r\n            this.innerHTML = this.findRoute(window.location.pathname);\r\n            this.dispatchEvent(this.event);\r\n        }\r\n    }\r\n\r\n    onConnectedCallback() {\r\n        this.routes = {            \r\n            default: `<div>No view was found. Try again later</div>`\r\n        }         \r\n    }\r\n\r\n    findRoute(path) {\r\n        let queryParamStartsAt = path.indexOf('?');        \r\n        if (queryParamStartsAt >= 0)\r\n            path = path.slice(0, queryParamStartsAt); // remove query string param\r\n\r\n        return this.routes[path] || this.routes.default;\r\n    }\r\n\r\n    mapRoute(path, view) {\r\n        this.routes[path] = view;\r\n    }\r\n\r\n    goTo(path) {   \r\n        this.innerHTML = this.findRoute(path);\r\n        this.dispatchEvent(this.event);\r\n    }\r\n\r\n    addNavigation($element) {\r\n        $element.addEventListener('click', (e) => {\r\n            e.preventDefault();\r\n            let pathName = e.currentTarget.pathname;\r\n\r\n            if (!pathName) \r\n                return; // skip clicking not on anchor\r\n            \r\n            this.goTo(pathName);\r\n\r\n            window.history.pushState(\r\n                {}, \r\n                pathName,\r\n                window.location.origin + pathName\r\n              );\r\n        });\r\n    }\r\n}\r\n\r\nwindow.window.customElements.define(\"simple-router\", Router);\r\n\r\n// let $router = document.querySelector('#router');\r\n\r\n// $router.mapRoute('/java', 'I like java!')\r\n// $router.mapRoute('/csharp', 'I like c#!')\r\n// $router.mapRoute('/python', 'I like Python!')\r\n\r\n// Array.from(document.querySelectorAll('a')).forEach($el => $router.addNavigation($el));\r\n\r\n\r\n\r\n","export default class Spinner extends HTMLElement {\r\n    constructor() {\r\n        super();\r\n        this.innerHTML = `\r\n        <style>        \r\n        .lds-ellipsis {\r\n            position: relative;\r\n            left: 50%;\r\n            top: 30vh;\r\n            width: 64px;\r\n            height: 64px;\r\n          }\r\n          .lds-ellipsis div {\r\n            position: absolute;\r\n            top: 27px;\r\n            width: 11px;\r\n            height: 11px;\r\n            border-radius: 50%;\r\n            background: pink;\r\n            animation-timing-function: cubic-bezier(0, 1, 1, 0);\r\n          }\r\n          .lds-ellipsis div:nth-child(1) {\r\n            left: 6px;\r\n            animation: lds-ellipsis1 0.6s infinite;\r\n          }\r\n          .lds-ellipsis div:nth-child(2) {\r\n            left: 6px;\r\n            animation: lds-ellipsis2 0.6s infinite;\r\n          }\r\n          .lds-ellipsis div:nth-child(3) {\r\n            left: 26px;\r\n            animation: lds-ellipsis2 0.6s infinite;\r\n          }\r\n          .lds-ellipsis div:nth-child(4) {\r\n            left: 45px;\r\n            animation: lds-ellipsis3 0.6s infinite;\r\n          }\r\n          @keyframes lds-ellipsis1 {\r\n            0% {\r\n              transform: scale(0);\r\n            }\r\n            100% {\r\n              transform: scale(1);\r\n            }\r\n          }\r\n          @keyframes lds-ellipsis3 {\r\n            0% {\r\n              transform: scale(1);\r\n            }\r\n            100% {\r\n              transform: scale(0);\r\n            }\r\n          }\r\n          @keyframes lds-ellipsis2 {\r\n            0% {\r\n              transform: translate(0, 0);\r\n            }\r\n            100% {\r\n              transform: translate(19px, 0);\r\n            }\r\n          }          \r\n        </style>\r\n        <div class=\"lds-ellipsis\"><div></div><div></div><div></div><div></div></div>`        \r\n    }\r\n\r\n    connectedCallback() {\r\n\r\n    }\r\n}\r\n\r\nwindow.customElements.define(\"custom-spinner\", Spinner);","export default function index(model) {\r\n    let renderExercise = (item) => \r\n    `<a style=\"display: block;\" class=\"three columns\" href=\"${item.url}\">\r\n        <custom-pad data-title=\"${item.discipline}\" data-description=\"${item.title}\"></custom-pad>\r\n    </a>`;\r\n    \r\n    let renderSectionItem = (sectionItem, columnsPerItem) => \r\n    `<a href=\"${sectionItem.url}\" class=\"${columnsPerItem} columns\">\r\n        <custom-pad data-title=\"${sectionItem.name}\" data-route=\"${sectionItem.url}\"></custom-pad>\r\n    </a>`;    \r\n    \r\n    return `\r\n        <h1>\r\n            Nastaunik.info - media education. Toolkit\r\n        </h1>\r\n        <h4 class=\"section-title\">Папулярныя</h4>\r\n        <div id=\"popular\" class=\"row\">\r\n            ${model.popular.map((item) => renderExercise(item)).join('')}\r\n        </div>\r\n        \r\n        <h4 class=\"section-title\">Новыя</h4>\r\n        <div id=\"recent\" class=\"row\">\r\n            ${model.recent.map((item) => renderExercise(item)).join('')}\r\n        </div>\r\n        \r\n        <div class=\"row section-title\">\r\n            <div class=\"ten columns\">\r\n                <h4>Мэтавая група</h4>\r\n            </div>\r\n            <div class=\"two columns\">\r\n                <button>паказаць усе</button>\r\n            </div>\r\n        </div>        \r\n        <div id=\"age\" class=\"row\">\r\n            ${model.ageGroups.map(item => renderSectionItem(item, 'four')).join('')}\r\n        </div>\r\n\r\n        <!-- Disciplines-->\r\n        <div class=\"row section-title\">\r\n            <div class=\"ten columns\">\r\n                <h4>\r\n                    Прадмет\r\n                </h4>\r\n            </div>\r\n            <div class=\"two columns\">\r\n                <button>паказаць усе</button>\r\n            </div>\r\n        </div>\r\n\r\n        <div class=\"row\">\r\n            ${model.disciplines.map(item => renderSectionItem(item, 'three')).join('')}\r\n        </div>\r\n\r\n        <div class=\"row section-title\">\r\n            <div class=\"ten columns\">\r\n                <h4>\r\n                    Медыя кампетэнцыя\r\n                </h4>\r\n            </div>\r\n            <div class=\"two columns\">\r\n                <button>паказаць усе</button>\r\n            </div>\r\n        </div>\r\n\r\n        <div class=\"row\">\r\n            ${model.competentions.map(item => renderSectionItem(item, 'three')).join('')}\r\n        </div>\r\n        <a href=\"/exercises\" class=\"btn btn-primary\">click me</a>\r\n        `;\r\n}","export default function exercisesView(model) {\r\n    let renderFilter = (filter) => `\r\n        <ul id=${filter.id}>\r\n            ${filter.items.map(li => `<li>${li.text}</li>`).join('')}\r\n        <ul>`;\r\n\r\n    let renderSearchResults = (searchResults) => `Not done yet!`; \r\n\r\n    return `\r\n    <div class=\"container\">\r\n        <h2 id=\"exercise\">Практыкаванні - </h2>\r\n        <button ${model.filerToggleId}>Фільтры</button>\r\n        <div id=${model.filterBoxId} class=\"row hidden\">\r\n            <div class=\"three columns\">\r\n                <label>Прадметы</label>                \r\n               ${renderFilter(model.filters.disciplineFilter)}\r\n            </div>\r\n            <div class=\"three columns\">\r\n                <label>Мэтавыя групы</label>\r\n                \r\n                ${renderFilter(model.filters.ageGroupFilter)}\r\n            </div>\r\n            <div class=\"three columns\">\r\n                <label>Тэмы</label>                \r\n                ${renderFilter(model.filters.themeFilter)}\r\n            </div>\r\n            <div class=\"three columns\">\r\n                <label>Згрупаваць па</label>\r\n                \r\n                ${renderFilter(model.filters.groupByFilter)}\r\n            </div>\r\n        </div>\r\n\r\n        <div id=\"items-search-results\">\r\n            ${renderSearchResults()}\r\n        </div>\r\n    </div>`;\r\n\r\n    return document.createElement('div')\r\n}","const groupBy = (arr, groupFunc) => arr.reduce((previous, current, index, array, k = groupFunc(current)) => ((previous[k] || (previous[k] = [])).push(current), previous), {});\r\n\r\nconst chunk = (arr, chunkSize) =>\r\n    arr.reduce((all, current, index) => {\r\n        const chunkIndex = Math.floor(index / chunkSize);\r\n\r\n        if (!all[chunkIndex]) {\r\n            all[chunkIndex] = []\r\n        }\r\n\r\n        all[chunkIndex].push(current);\r\n        return all;\r\n    }, []);\r\n\r\n\r\n\r\nexport { groupBy, chunk };","import * as _ from './utils.js';\r\n\r\nexport default class ItemsDataProvider {\r\n    constructor(jsonData) {\r\n        this._defaultGrouping = 'by discipline';\r\n        this._data = jsonData;\r\n        this._filterConfig = {\r\n            \"discipline\": (filterValue) => (item) => item.discipline_id.toUpperCase() == filterValue.toUpperCase(),\r\n            \"ageGroup\": (filterValue) => (item) => item.ageRange.toUpperCase() == filterValue.toUpperCase(),\r\n            \"theme\": (filterValue) => (item) => item.themes.toUpperCase() == filterValue.toUpperCase()\r\n        }\r\n        this._filtersToApply = [];\r\n        this._groupingToApply = (data) => ({ \"\": data });\r\n        this._expandBy = [];\r\n    }\r\n\r\n    applyFilter(filterName, filterValue) {\r\n        if (!filterValue || filterValue == '')\r\n            return this;\r\n\r\n        let filterFunc = this._filterConfig[filterName];\r\n\r\n        if (!filterFunc)\r\n            throw Error(`Could not find appropriate filter for ${filterName}`);\r\n\r\n        this._filtersToApply.push(filterFunc(filterValue));\r\n\r\n        return this;\r\n    }\r\n\r\n    applyGroupingAndSort(groupBy) {\r\n        let groupingFunc = (data) => data;\r\n\r\n        if (groupBy == 'by discipline') {\r\n            groupingFunc = (data) => _.groupBy(data, item => item.discipline_id);\r\n        }\r\n\r\n        if (groupBy == 'by age') {\r\n            groupingFunc = (data) => _.groupBy(data, item => item.ageRange);\r\n        }\r\n\r\n        if (groupBy == 'by theme') {\r\n            groupingFunc = (data) => _.groupBy(data, item => item.themes);\r\n        }\r\n\r\n        if (groupBy == 'newest') {\r\n            groupingFunc = (data) => {\r\n                let sorted = data.slice().sort((item1, item2) => item1.date.localeCompare(item2.date));\r\n\r\n                return _.groupBy(sorted, () => 'From Newest To Oldest');\r\n            }\r\n        }\r\n\r\n        if (groupBy == 'oldest') {\r\n            groupingFunc = (data) => {\r\n                let sorted = data.slice().sort((item1, item2) => item2.date.localeCompare(item1.date));\r\n                return _.groupBy(sorted, () => 'From Oldest To Newest');\r\n            }\r\n        }\r\n\r\n        if (groupBy == 'popular') {\r\n            groupingFunc = (data) => {\r\n                let sorted = data.slice().sort((item1, item2) => (item1.popular || false) - (item2.popular || false));\r\n                return _.groupBy(sorted, () => 'From Oldest To Newest');\r\n            }\r\n        }\r\n\r\n        let needExpand = groupBy == 'by theme';\r\n        // this transformation allow to filter by array-properties like theme\r\n        let expandedByThemeFunc = needExpand\r\n            ? (data) => data.reduce((prev, next) => [...prev, ...next.themes.map(t => ({...next, themes: t }))], [])\r\n            : (data) => data;\r\n\r\n        this._groupingToApply = (data) => groupingFunc(expandedByThemeFunc(data)); // I am doing something crazy!\r\n\r\n        return this;\r\n    }\r\n\r\n    executeQuery() {\r\n        // group by \r\n        // apply filters\r\n        // remove empty sections\r\n\r\n        let grouped = this._groupingToApply(this._data);\r\n        let aggregatedFilter = (data) => this._filtersToApply.reduce((accumulator, singleFilter) => accumulator.filter(singleFilter), data);\r\n\r\n        return Object.entries(grouped)\r\n            .map(([key, items]) => ([key, aggregatedFilter(items)]))\r\n            .filter(([key, items]) => items.length > 0) // show only sections with elements\r\n            .reduce((accumulator, [key, items]) => ({...accumulator, [key]: items }), {})\r\n    }\r\n\r\n}","import ItemsDataProvider from '../ItemsDataProvider.js';\r\n\r\nexport default function getIndexModel(json) {\r\n    let itemsDataProvider = new ItemsDataProvider(json['items']);\r\n\r\n    let getRecent = () => {\r\n        let recentItemsGrouped = itemsDataProvider.applyGroupingAndSort('newest').executeQuery();\r\n        let recentItems = recentItemsGrouped[Object.keys(recentItemsGrouped)[0]];\r\n        return recentItems;\r\n    }\r\n\r\n    let getPopular = () => {\r\n        let popularItemsGrouped = itemsDataProvider.applyGroupingAndSort('popular').executeQuery();\r\n        let popularItems = popularItemsGrouped[Object.keys(popularItemsGrouped)[0]];\r\n        return popularItems;\r\n    }\r\n\r\n    return {\r\n        recent: getRecent().slice(0, 4),\r\n        popular: getPopular().slice(0, 4),\r\n        disciplines: [\r\n            { name: \"Біялогія\", url: \"/exercises?discipline=biology\" },\r\n            { name: \"Чалавек і Свет\", url: \"/exercises?discipline=manandtheworld\" },\r\n            { name: \"Мастацтва\", url: \"/exercises?discipline=arts\" },\r\n            { name: \"Выхаваўчы занятак\", url: \"/exercises?items.html?discipline=educational\" },\r\n        ],\r\n        ageGroups: [\r\n            { name: \"Дзеці\", url: \"/exercises?ageGroup=elementary\"},\r\n            { name: \"Падлеткі\", url: \"/exercises?ageGroup=primary\"},\r\n            { name: \"Дарослыя\", url: \"/exercises?ageGroup=adults\"}\r\n        ],\r\n        competentions: [\r\n            { name: \"Доступ і надзейнасць\", url: \"/exercises?theme=ads\" },\r\n            { name: \"Аналіз медыя\", url: \"/exercises?theme=media%20consumering\" },\r\n            { name: \"Ацэнка медыя\", url: \"/exercises?theme=facts%20and%20opinions\" },\r\n            { name: \"Стварэнне і карыстанне медыя-прасторай\", url: \"/exercises?theme=fact%20checking\" }\r\n        ]\r\n    }    \r\n}","import ItemsDataProvider from '../ItemsDataProvider.js';\r\n\r\nfunction getSearchResults() {\r\n    return null; // todo\r\n}\r\n\r\nfunction getFilters(json) {\r\n    return {\r\n        disciplineFilter: {\r\n            items: json['all-disciplines']\r\n        },\r\n        ageGroupFilter: {\r\n            items: json['all-age-groups']\r\n        },\r\n        themeFilter: {\r\n            items: json['all-themes']\r\n        },\r\n        groupByFilter: {\r\n            items: [\r\n                { key: \"newest\", text: \"Новыя\"},\r\n                { key: \"oldest\", text: \"Старыя\"},\r\n                { key: \"by discipline\", text: \"Па прадметах\"},\r\n                { key: \"by theme\", text: \"Па тэмах\"},\r\n                { key: \"by age\", text: \"Па мэтавай групе\"},\r\n            ]\r\n        },\r\n        actions: {\r\n            onToggleFilters: (e) => e.target.classList.toggle('hidden'),\r\n            onFilterClick: (e) => console.log(`clicked event: ${e}`)\r\n        }\r\n    }\r\n}\r\n\r\nexport default function getExcercisesModel(json) {\r\n    return {\r\n        filters: getFilters(json),\r\n        getSearchResults: getSearchResults()\r\n    }\r\n}","import Router from './custom-elements/router.js'\r\nimport Spinner from './custom-elements/spinner.js'\r\n\r\nimport indexView from './views/indexView.js'\r\nimport excercisesView from './views/excercisesView.js'\r\n\r\nimport getIndexModel from './controllers/indexController.js'\r\nimport getExcercisesModel from './controllers/excercisesController.js';\r\n\r\nclass App {\r\n    constructor($container) {\r\n        this.$container = $container;\r\n        this.$root = document.createElement('div');\r\n        this.$root.innerHTML = `<simple-router><custom-spinner/></simple-router>`;        \r\n        this.$router = this.$root.querySelector('simple-router');\r\n        \r\n        fetch('data/exercises.json')\r\n            .then((response) => response.json())\r\n            .then((json) => {\r\n                setTimeout(() => this.$router.goTo('default'), 1000); // todo: remove timeout\r\n                \r\n                let indexModel = getIndexModel(json);        \r\n                let excercisesModel = getExcercisesModel(json);\r\n\r\n                this.$router.mapRoute('default', indexView(indexModel));\r\n                this.$router.mapRoute('/', indexView(indexModel));\r\n                this.$router.mapRoute('/exercises', excercisesView(excercisesModel));\r\n                this.$router.mapRoute('/details', `<div>You gonna see some details here!</div>`);        \r\n            })\r\n\r\n        let refreshNavigation = () => {\r\n            Array.from(this.$root.querySelectorAll('[data-route]') || []).forEach($el => this.$router.addNavigation($el));\r\n            Array.from(this.$root.querySelectorAll('a') || []).forEach($el => this.$router.addNavigation($el));\r\n        }\r\n        \r\n        refreshNavigation();\r\n\r\n        this.$router.addEventListener('navigationOccured', refreshNavigation);\r\n    }\r\n\r\n    render() {        \r\n        this.$container.appendChild(this.$root);\r\n    }\r\n}\r\n\r\nlet app = new App(document.querySelector('#app'));\r\n\r\napp.render();"]}